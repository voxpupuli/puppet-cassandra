<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Puppet Class: cassandra::firewall_ports
  
    &mdash; Documentation by YARD 0.9.5
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "puppet_classes::cassandra::firewall_ports";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../puppet_class_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (c)</a> &raquo;
    <span class='title'><span class='object_link'>Puppet Classes</span></span>
     &raquo; 
    <span class="title">cassandra::firewall_ports</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="puppet_class_list_link"
        href="../puppet_class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame" src="../puppet_class_list.html"></iframe>

      <div id="content"><h1>Puppet Class: cassandra::firewall_ports</h1>
<div class="box_info">
  
  
  <dl>
    <dt>Defined in:</dt>
    <dd>
      manifests/firewall_ports.pp
    </dd>
  </dl>
</div>
<h2>Overview</h2>
<div class="docstring">
  <div class="discussion">
    
<p>An optional class to configure incoming network ports on the host that are
relevant to the Cassandra installation. If firewalls are being managed
already, simply do not include this module in your manifest.</p>

<p>IMPORTANT: The full list of which ports should be configured is assessed at
evaluation time of the configuration. Therefore if one is to use this
class, it must be the final cassandra class included in the manifest.</p>

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>client_ports</span>
      
      
        <span class='type'>(<tt>array</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[9042, 9160]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Only has any effect if the <code>cassandra</code> class is defined on the
node. Allow these TCP ports to be opened for traffic coming from the client
subnets.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>client_subnets</span>
      
      
        <span class='type'>(<tt>array</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[&#39;0.0.0.0/0&#39;]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Only has any effect if the <code>cassandra</code> class is defined on the
node. An array of the list of subnets that are to allowed connection to
cassandra::native_transport_port and cassandra::rpc_port.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>inter_node_ports</span>
      
      
        <span class='type'>(<tt>array</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[7000, 7001, 7199]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Only has any effect if the <code>cassandra</code> class is defined on the
node. Allow these TCP ports to be opened for traffic between the Cassandra
nodes.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>inter_node_subnets</span>
      
      
        <span class='type'>(<tt>array</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[&#39;0.0.0.0/0&#39;]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Only has any effect if the <code>cassandra</code> class is defined on the
node. An array of the list of subnets that are to allowed connection to
<code>cassandra::storage_port</code>,
<code>cassandra::ssl_storage_port</code> and port 7199 for cassandra JMX
monitoring.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>public_ports</span>
      
      
        <span class='type'>(<tt>array</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[8888]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Allow these TCP ports to be opened for traffic coming from public subnets
the port specified in <code>$ssh_port</code> will be appended to this list.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>public_subnets</span>
      
      
        <span class='type'>(<tt>array</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[&#39;0.0.0.0/0&#39;]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>An array of the list of subnets that are to allowed connection to
cassandra::firewall_ports::ssh_port.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>ssh_port</span>
      
      
        <span class='type'>(<tt>integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>22</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Which port does SSH operate on.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>opscenter_ports</span>
      
      
        <span class='type'>(<tt>array</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[9042, 9160, 61620, 61621]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Only has any effect if the <code>cassandra::datastax_agent</code> is
defined. Allow these TCP ports to be opened for traffic coming to or from
OpsCenter appended to this list.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>opscenter_subnets</span>
      
      
        <span class='type'>(<tt>array</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[&#39;0.0.0.0/0&#39;]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>A list of subnets that are to be allowed connection to port 61621 for nodes
built with cassandra::datastax_agent.</p>
</div>
      
    </li>
  
</ul>


</div><div class="method_details_list">
  <table class="source_code">
    <tr>
      <td>
        <pre class="lines">


31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76</pre>
      </td>
      <td>
        <pre class="code"><span class="info file"># File 'manifests/firewall_ports.pp', line 31</span>

class cassandra::firewall_ports (
  $client_ports                = [9042, 9160],
  $client_subnets              = [&#39;0.0.0.0/0&#39;],
  $inter_node_ports            = [7000, 7001, 7199],
  $inter_node_subnets          = [&#39;0.0.0.0/0&#39;],
  $public_ports                = [8888],
  $public_subnets              = [&#39;0.0.0.0/0&#39;],
  $ssh_port                    = 22,
  $opscenter_ports             = [9042, 9160, 61620, 61621],
  $opscenter_subnets           = [&#39;0.0.0.0/0&#39;],
  ) {
  # Public connections on any node.
  $public_subnets_array = prefix($public_subnets, &#39;200_Public_&#39;)

  cassandra::private::firewall_ports::rule { $public_subnets_array:
    ports =&gt; concat($public_ports, [$ssh_port]),
  }

  # If this is a Cassandra node.
  if defined ( Class[&#39;::cassandra&#39;] ) {
    # Inter-node connections for Cassandra
    $inter_node_subnets_array = prefix($inter_node_subnets,
      &#39;210_InterNode_&#39;)

    cassandra::private::firewall_ports::rule { $inter_node_subnets_array:
      ports =&gt; $inter_node_ports,
    }

    # Client connections for Cassandra
    $client_subnets_array = prefix($client_subnets, &#39;220_Client_&#39;)

    cassandra::private::firewall_ports::rule {$client_subnets_array:
      ports =&gt; $client_ports,
    }
  }

  # Connections for DataStax Agent
  if defined ( Class[&#39;::cassandra::datastax_agent&#39;] ) or defined ( Class[&#39;::cassandra::opscenter&#39;] ) {
    $opscenter_subnets_opc_agent = prefix($opscenter_subnets,
      &#39;230_OpsCenter_&#39;)

    cassandra::private::firewall_ports::rule { $opscenter_subnets_opc_agent:
      ports =&gt; $opscenter_ports,
    }
  }
}</pre>
      </td>
    </tr>
  </table>
</div>
</div>

      <div id="footer">
  Generated on Sun Oct 30 10:48:39 2016 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.5 (ruby-2.3.1).
</div>

    </div>
  </body>
</html>