# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

#### Public Classes

* [`cassandra`](#cassandra): Class to manage installation and configuration of Cassandra.
* [`cassandra::schema`](#cassandra--schema): A class to maintain the database schema.  Please note that cqlsh expects Python 2.7 to be installed. This may be a problem of older distributions (CentOS 6 for example).

#### Private Classes

* `cassandra::config`: This class is called from cassandra to manage the configuration.
* `cassandra::install`: This class is called from cassandra for install.
* `cassandra::service`: This class is called from cassandra to manage the service.

### Defined types

* [`cassandra::file`](#cassandra--file): A defined type for altering files relative to the configuration directory.
* [`cassandra::schema::cql_type`](#cassandra--schema--cql_type): Create or drop user defined data types within the schema.
* [`cassandra::schema::index`](#cassandra--schema--index): Create or drop indexes within the schema.
* [`cassandra::schema::keyspace`](#cassandra--schema--keyspace): Create or drop keyspaces within the schema.
* [`cassandra::schema::permission`](#cassandra--schema--permission): Grant or revoke permissions. To use this class, a suitable `authenticator` (e.g. PasswordAuthenticator) and `authorizer` (e.g. CassandraAutho
* [`cassandra::schema::table`](#cassandra--schema--table): Create or drop tables within the schema.
* [`cassandra::schema::user`](#cassandra--schema--user): Create or drop users. To use this class, a suitable `authenticator` (e.g. PasswordAuthenticator) must be set in the Cassandra class.

## Classes

### <a name="cassandra"></a>`cassandra`

Class to manage installation and configuration of Cassandra.

#### Parameters

The following parameters are available in the `cassandra` class:

* [`config_path`](#-cassandra--config_path)
* [`repo_config`](#-cassandra--repo_config)
* [`manage_repo`](#-cassandra--manage_repo)
* [`package_ensure`](#-cassandra--package_ensure)
* [`package_name`](#-cassandra--package_name)
* [`tools_ensure`](#-cassandra--tools_ensure)
* [`tools_package`](#-cassandra--tools_package)
* [`java_ensure`](#-cassandra--java_ensure)
* [`java_package`](#-cassandra--java_package)
* [`jna_ensure`](#-cassandra--jna_ensure)
* [`jna_package`](#-cassandra--jna_package)
* [`manage_user`](#-cassandra--manage_user)
* [`user`](#-cassandra--user)
* [`group`](#-cassandra--group)
* [`system_user`](#-cassandra--system_user)
* [`system_group`](#-cassandra--system_group)
* [`uid`](#-cassandra--uid)
* [`gid`](#-cassandra--gid)
* [`manage_homedir`](#-cassandra--manage_homedir)
* [`homedir`](#-cassandra--homedir)
* [`shell`](#-cassandra--shell)
* [`commitlog_directory`](#-cassandra--commitlog_directory)
* [`commitlog_directory_mode`](#-cassandra--commitlog_directory_mode)
* [`data_file_directories`](#-cassandra--data_file_directories)
* [`data_file_directories_mode`](#-cassandra--data_file_directories_mode)
* [`hints_directory`](#-cassandra--hints_directory)
* [`hints_directory_mode`](#-cassandra--hints_directory_mode)
* [`saved_caches_directory`](#-cassandra--saved_caches_directory)
* [`saved_caches_directory_mode`](#-cassandra--saved_caches_directory_mode)
* [`manage_config_file`](#-cassandra--manage_config_file)
* [`config_file_mode`](#-cassandra--config_file_mode)
* [`config_template_file`](#-cassandra--config_template_file)
* [`manage_snitch_file`](#-cassandra--manage_snitch_file)
* [`snitch_file_mode`](#-cassandra--snitch_file_mode)
* [`snitch_template_file`](#-cassandra--snitch_template_file)
* [`snitch_properties_file`](#-cassandra--snitch_properties_file)
* [`baseline_settings`](#-cassandra--baseline_settings)
* [`settings`](#-cassandra--settings)
* [`dc`](#-cassandra--dc)
* [`dc_suffix`](#-cassandra--dc_suffix)
* [`prefer_local`](#-cassandra--prefer_local)
* [`rack`](#-cassandra--rack)
* [`service_enable`](#-cassandra--service_enable)
* [`service_ensure`](#-cassandra--service_ensure)
* [`service_name`](#-cassandra--service_name)
* [`service_refresh`](#-cassandra--service_refresh)
* [`manage_service`](#-cassandra--manage_service)

##### <a name="-cassandra--config_path"></a>`config_path`

Data type: `Stdlib::Absolutepath`

Path to cassandra configuration files.

##### <a name="-cassandra--repo_config"></a>`repo_config`

Data type: `Hash`

A hash of repository attributes for configuring the cassandra package repositories.
Examples/defaults for yumrepo can be found at data/RedHat.yaml, and for apt at data/Debian.yaml

##### <a name="-cassandra--manage_repo"></a>`manage_repo`

Data type: `Boolean`

Whether to manage the package repository.

Default value: `true`

##### <a name="-cassandra--package_ensure"></a>`package_ensure`

Data type: `Stdlib::Ensure::Package`

Ensure state of the Cassandra package.

Default value: `'installed'`

##### <a name="-cassandra--package_name"></a>`package_name`

Data type: `String[1]`

The name of the Cassandra package.

Default value: `'cassandra'`

##### <a name="-cassandra--tools_ensure"></a>`tools_ensure`

Data type: `Stdlib::Ensure::Package`

Ensure state of the Cassandra tools package.

Default value: `'installed'`

##### <a name="-cassandra--tools_package"></a>`tools_package`

Data type: `String[1]`

The name of the Cassandra tools package.

Default value: `'cassandra-tools'`

##### <a name="-cassandra--java_ensure"></a>`java_ensure`

Data type: `Stdlib::Ensure::Package`

Ensure state of the Java package.

Default value: `'installed'`

##### <a name="-cassandra--java_package"></a>`java_package`

Data type: `Optional[String[1]]`

The name of the Java package.

Default value: `undef`

##### <a name="-cassandra--jna_ensure"></a>`jna_ensure`

Data type: `Stdlib::Ensure::Package`

Ensure state of the JNA package.

Default value: `'installed'`

##### <a name="-cassandra--jna_package"></a>`jna_package`

Data type: `Optional[String[1]]`

The name of the JNA package.

Default value: `undef`

##### <a name="-cassandra--manage_user"></a>`manage_user`

Data type: `Boolean`

Whether to manage the Cassandra user and group.

Default value: `false`

##### <a name="-cassandra--user"></a>`user`

Data type: `String[1]`

The name of the Cassandra user.

Default value: `'cassandra'`

##### <a name="-cassandra--group"></a>`group`

Data type: `String[1]`

The name of the Cassandra group.

Default value: `'cassandra'`

##### <a name="-cassandra--system_user"></a>`system_user`

Data type: `Boolean`

Whether to create a system user.

Default value: `true`

##### <a name="-cassandra--system_group"></a>`system_group`

Data type: `Boolean`

Whether to create a system group.

Default value: `true`

##### <a name="-cassandra--uid"></a>`uid`

Data type: `Optional[Integer]`

The UID of the Cassandra user.

Default value: `undef`

##### <a name="-cassandra--gid"></a>`gid`

Data type: `Optional[Integer]`

The GID of the Cassandra group.

Default value: `undef`

##### <a name="-cassandra--manage_homedir"></a>`manage_homedir`

Data type: `Boolean`

Whether to manage the home directory of the Cassandra user.

Default value: `true`

##### <a name="-cassandra--homedir"></a>`homedir`

Data type: `Stdlib::Absolutepath`

The home directory of the Cassandra user.

Default value: `'/var/lib/cassandra'`

##### <a name="-cassandra--shell"></a>`shell`

Data type: `Stdlib::Absolutepath`

The login shell of the Cassandra user.

Default value: `'/bin/false'`

##### <a name="-cassandra--commitlog_directory"></a>`commitlog_directory`

Data type: `Optional[Stdlib::Absolutepath]`

Path to the commitlog directory.

Default value: `undef`

##### <a name="-cassandra--commitlog_directory_mode"></a>`commitlog_directory_mode`

Data type: `Stdlib::Filemode`

Permissions mode for the `commitlog_directory`.

Default value: `'0750'`

##### <a name="-cassandra--data_file_directories"></a>`data_file_directories`

Data type: `Optional[Array[Stdlib::Absolutepath]]`

Path(s) to the date directory or directories.

Default value: `undef`

##### <a name="-cassandra--data_file_directories_mode"></a>`data_file_directories_mode`

Data type: `Stdlib::Filemode`

Permissions mode for the `data_file_directories`.

Default value: `'0750'`

##### <a name="-cassandra--hints_directory"></a>`hints_directory`

Data type: `Optional[Stdlib::Absolutepath]`

Path to the hints directory.

Default value: `undef`

##### <a name="-cassandra--hints_directory_mode"></a>`hints_directory_mode`

Data type: `Stdlib::Filemode`

Permissions mode for the `hints_directory`.

Default value: `'0750'`

##### <a name="-cassandra--saved_caches_directory"></a>`saved_caches_directory`

Data type: `Optional[Stdlib::Absolutepath]`

Path to the saved caches directory.

Default value: `undef`

##### <a name="-cassandra--saved_caches_directory_mode"></a>`saved_caches_directory_mode`

Data type: `Stdlib::Filemode`

Permissions mode for the `saved_caches_directory`.

Default value: `'0750'`

##### <a name="-cassandra--manage_config_file"></a>`manage_config_file`

Data type: `Boolean`

Whether or not to manage the cassandra configuration  file.

Default value: `true`

##### <a name="-cassandra--config_file_mode"></a>`config_file_mode`

Data type: `Stdlib::Filemode`

Permissions mode for the cassandra configuration file.

Default value: `'0644'`

##### <a name="-cassandra--config_template_file"></a>`config_template_file`

Data type: `String[1]`

The template file to use for the cassandra configuration file.

Default value: `'cassandra/cassandra.yaml.epp'`

##### <a name="-cassandra--manage_snitch_file"></a>`manage_snitch_file`

Data type: `Boolean`

Whether or not to manage the snitch properties file.

Default value: `true`

##### <a name="-cassandra--snitch_file_mode"></a>`snitch_file_mode`

Data type: `Stdlib::Filemode`

Permissions mode for the snitch properties file.

Default value: `'0644'`

##### <a name="-cassandra--snitch_template_file"></a>`snitch_template_file`

Data type: `String[1]`

The template file to use for the snitch properties file.

Default value: `'cassandra/cassandra-rackdc.properties.epp'`

##### <a name="-cassandra--snitch_properties_file"></a>`snitch_properties_file`

Data type:

```puppet
Enum[
    'cassandra-rackdc.properties',
    'cassandra-topology.properties'
  ]
```

The name of the snitch properties file.

Default value: `'cassandra-rackdc.properties'`

##### <a name="-cassandra--baseline_settings"></a>`baseline_settings`

Data type: `Hash`

This will be merged with the `settings` hash.
The values of the `settings` hash will override the values in this hash.

Default value: `{}`

##### <a name="-cassandra--settings"></a>`settings`

Data type: `Hash`

A hash that is passed to `to_yaml` which dumps the results to the Cassandra configuring file.

Default value: `{}`

##### <a name="-cassandra--dc"></a>`dc`

Data type: `String[1]`

Sets the value for dc in `config_path`/`snitch_properties_file`.

Default value: `'DC1'`

##### <a name="-cassandra--dc_suffix"></a>`dc_suffix`

Data type: `Optional[String[1]]`

Sets the value for dc_suffix in `config_path`/`snitch_properties_file`.

Default value: `undef`

##### <a name="-cassandra--prefer_local"></a>`prefer_local`

Data type: `Optional[Boolean]`

Sets the value for prefer_local in `config_path`/`snitch_properties_file`.

Default value: `undef`

##### <a name="-cassandra--rack"></a>`rack`

Data type: `String[1]`

Sets the value for rack in `config_path`/`snitch_properties_file`.

Default value: `'RAC1'`

##### <a name="-cassandra--service_enable"></a>`service_enable`

Data type: `Boolean`

Whether to enable the Cassandra service at boot time.

Default value: `true`

##### <a name="-cassandra--service_ensure"></a>`service_ensure`

Data type: `Stdlib::Ensure::Service`

Ensure state of the Cassandra service.

Default value: `'running'`

##### <a name="-cassandra--service_name"></a>`service_name`

Data type: `String[1]`

The name of the Cassandra service.

Default value: `'cassandra'`

##### <a name="-cassandra--service_refresh"></a>`service_refresh`

Data type: `Boolean`

Whether to refresh the service when configuration changes.

Default value: `true`

##### <a name="-cassandra--manage_service"></a>`manage_service`

Data type: `Boolean`



Default value: `true`

### <a name="cassandra--schema"></a>`cassandra::schema`

A class to maintain the database schema.  Please note that cqlsh expects Python 2.7 to be installed. This may be a problem of older distributions (CentOS 6 for example).

#### Parameters

The following parameters are available in the `cassandra::schema` class:

* [`connection_tries`](#-cassandra--schema--connection_tries)
* [`connection_try_sleep`](#-cassandra--schema--connection_try_sleep)
* [`cql_types`](#-cassandra--schema--cql_types)
* [`cqlsh_additional_options`](#-cassandra--schema--cqlsh_additional_options)
* [`cqlsh_client_config`](#-cassandra--schema--cqlsh_client_config)
* [`cqlsh_client_tmpl`](#-cassandra--schema--cqlsh_client_tmpl)
* [`cqlsh_command`](#-cassandra--schema--cqlsh_command)
* [`cqlsh_host`](#-cassandra--schema--cqlsh_host)
* [`cqlsh_password`](#-cassandra--schema--cqlsh_password)
* [`cqlsh_port`](#-cassandra--schema--cqlsh_port)
* [`cqlsh_user`](#-cassandra--schema--cqlsh_user)
* [`indexes`](#-cassandra--schema--indexes)
* [`keyspaces`](#-cassandra--schema--keyspaces)
* [`permissions`](#-cassandra--schema--permissions)
* [`tables`](#-cassandra--schema--tables)
* [`users`](#-cassandra--schema--users)

##### <a name="-cassandra--schema--connection_tries"></a>`connection_tries`

Data type: `integer`

How many times do try to connect to
Cassandra.  See also `connection_try_sleep`.

Default value: `6`

##### <a name="-cassandra--schema--connection_try_sleep"></a>`connection_try_sleep`

Data type: `integer`

How much time to allow between the
number of tries specified in `connection_tries`.

Default value: `30`

##### <a name="-cassandra--schema--cql_types"></a>`cql_types`

Data type: `hash`

Creates new `cassandra::schema::cql_type` resources.

Default value: `{}`

##### <a name="-cassandra--schema--cqlsh_additional_options"></a>`cqlsh_additional_options`

Data type: `string`

Any additional options to be passed
to the `cqlsh` command.

Default value: `''`

##### <a name="-cassandra--schema--cqlsh_client_config"></a>`cqlsh_client_config`

Data type: `string`

Set this to a file name
(e.g. '/root/.puppetcqlshrc') that will then be used to contain the
the credentials for connecting to Cassandra. This is a more secure option
than having the credentials appearing on the command line.  This option
is only available in Cassandra >= 2.1.

Default value: `undef`

##### <a name="-cassandra--schema--cqlsh_client_tmpl"></a>`cqlsh_client_tmpl`

Data type: `string`

The location of the template for configuring
the credentials for the cqlsh client.  This is ignored unless
`cqlsh_client_config` is set.

Default value: `'cassandra/cqlshrc.erb'`

##### <a name="-cassandra--schema--cqlsh_command"></a>`cqlsh_command`

Data type: `string`

The full path to the `cqlsh` command.

Default value: `'/usr/bin/cqlsh'`

##### <a name="-cassandra--schema--cqlsh_host"></a>`cqlsh_host`

Data type: `string`

The host for the `cqlsh` command to connect to.
See also `cqlsh_port`.

Default value: `'localhost'`

##### <a name="-cassandra--schema--cqlsh_password"></a>`cqlsh_password`

Data type: `string`

If credentials are require for connecting,
specify the password here.  See also `cqlsh_user`, `cqlsh_client_config`.

Default value: `undef`

##### <a name="-cassandra--schema--cqlsh_port"></a>`cqlsh_port`

Data type: `integer`

The host for the `cqlsh` command to connect to.
See also `cqlsh_host`.

Default value: `9042`

##### <a name="-cassandra--schema--cqlsh_user"></a>`cqlsh_user`

Data type: `string`

If credentials are required for connecting,
specify the password here. See also `cqlsh_password`,
`cqlsh_client_config`

Default value: `'cassandra'`

##### <a name="-cassandra--schema--indexes"></a>`indexes`

Data type: `hash`

Creates new `cassandra::schema::index` resources.

Default value: `{}`

##### <a name="-cassandra--schema--keyspaces"></a>`keyspaces`

Data type: `hash`

Creates new `cassandra::schema::keyspace` resources.

Default value: `{}`

##### <a name="-cassandra--schema--permissions"></a>`permissions`

Data type: `hash`

Creates new `cassandra::schema::permission`
resources.

Default value: `{}`

##### <a name="-cassandra--schema--tables"></a>`tables`

Data type: `hash`

Creates new `cassandra::schema::table` resources.

Default value: `{}`

##### <a name="-cassandra--schema--users"></a>`users`

Data type: `hash`

Creates new `cassandra::schema::user` resources.

Default value: `{}`

## Defined types

### <a name="cassandra--file"></a>`cassandra::file`

A defined type for altering files relative to the configuration directory.

#### Examples

##### 

```puppet
if $::memorysize_mb < 24576.0 {
  $max_heap_size_in_mb = floor($::memorysize_mb / 2)
} elsif $::memorysize_mb < 8192.0 {
  $max_heap_size_in_mb = floor($::memorysize_mb / 4)
} else {
  $max_heap_size_in_mb = 8192
}

$heap_new_size = $::processorcount * 100

cassandra::file { "Set Java/Cassandra max heap size to ${max_heap_size_in_mb}.":
  file       => 'cassandra-env.sh',
  file_lines => {
    'MAX_HEAP_SIZE' => {
      line  => "MAX_HEAP_SIZE='${max_heap_size_in_mb}M'",
      match => '^#?MAX_HEAP_SIZE=.*',
    },
  }
}

cassandra::file { "Set Java/Cassandra heap new size to ${heap_new_size}.":
  file       => 'cassandra-env.sh',
  file_lines => {
    'HEAP_NEWSIZE'  => {
      line  => "HEAP_NEWSIZE='${heap_new_size}M'",
      match => '^#?HEAP_NEWSIZE=.*',
    }
  }
}
$tmpdir = '/var/lib/cassandra/tmp'

file { $tmpdir:
  ensure => directory,
  owner  => 'cassandra',
  group  => 'cassandra',
}

cassandra::file { 'Set java.io.tmpdir':
  file       => 'jvm.options',
  file_lines => {
    'java.io.tmpdir' => {
      line => "-Djava.io.tmpdir=${tmpdir}",
    },
  },
  require    => File[$tmpdir],
}
```

#### Parameters

The following parameters are available in the `cassandra::file` defined type:

* [`file`](#-cassandra--file--file)
* [`config_path`](#-cassandra--file--config_path)
* [`file_lines`](#-cassandra--file--file_lines)
* [`service_refresh`](#-cassandra--file--service_refresh)

##### <a name="-cassandra--file--file"></a>`file`

Data type: `string`

The name of the file relative to the `config_path`.

Default value: `$title`

##### <a name="-cassandra--file--config_path"></a>`config_path`

Data type: `string`

The path to the configuration directory.

Default value: `$cassandra::config_path`

##### <a name="-cassandra--file--file_lines"></a>`file_lines`

Data type: `string`

If set, then the [create_resources]
(https://docs.puppet.com/puppet/latest/reference/function.html#createresources)
will be used to create an array of [file_line]
(https://forge.puppet.com/puppetlabs/stdlib#file_line) resources.

Default value: `undef`

##### <a name="-cassandra--file--service_refresh"></a>`service_refresh`

Data type: `boolean`

Is the Cassandra service is to be notified
if the environment file is changed.

Default value: `true`

### <a name="cassandra--schema--cql_type"></a>`cassandra::schema::cql_type`

Create or drop user defined data types within the schema.

#### Examples

##### 

```puppet
cassandra::schema::cql_type { 'fullname':
  keyspace => 'mykeyspace',
  fields   => {
    'fname' => 'text',
    'lname' => 'text',
  },
}
```

#### Parameters

The following parameters are available in the `cassandra::schema::cql_type` defined type:

* [`keyspace`](#-cassandra--schema--cql_type--keyspace)
* [`ensure`](#-cassandra--schema--cql_type--ensure)
* [`fields`](#-cassandra--schema--cql_type--fields)
* [`cql_type_name`](#-cassandra--schema--cql_type--cql_type_name)

##### <a name="-cassandra--schema--cql_type--keyspace"></a>`keyspace`

Data type: `string`

The name of the keyspace that the data type is to be associated with.

##### <a name="-cassandra--schema--cql_type--ensure"></a>`ensure`

Data type: `present|absent`

ensure the data type is created, or is dropped.

Default value: `present`

##### <a name="-cassandra--schema--cql_type--fields"></a>`fields`

Data type: `hash`

A hash of the fields that will be components for the data type.

Default value: `{}`

##### <a name="-cassandra--schema--cql_type--cql_type_name"></a>`cql_type_name`

Data type: `string`

The name of the CQL type to be created.

Default value: `$title`

### <a name="cassandra--schema--index"></a>`cassandra::schema::index`

Create or drop indexes within the schema.

#### Parameters

The following parameters are available in the `cassandra::schema::index` defined type:

* [`ensure`](#-cassandra--schema--index--ensure)
* [`class_name`](#-cassandra--schema--index--class_name)
* [`index`](#-cassandra--schema--index--index)
* [`keys`](#-cassandra--schema--index--keys)
* [`keyspace`](#-cassandra--schema--index--keyspace)
* [`options`](#-cassandra--schema--index--options)
* [`table`](#-cassandra--schema--index--table)

##### <a name="-cassandra--schema--index--ensure"></a>`ensure`

Data type: `present|absent`

Create or dro[ the index.

Default value: `present`

##### <a name="-cassandra--schema--index--class_name"></a>`class_name`

Data type: `string`

The name of the class to be associated with an
index when creating a custom index.

Default value: `undef`

##### <a name="-cassandra--schema--index--index"></a>`index`

Data type: `string`

The name of the index.  Defaults to the name of the
resource.

Default value: `$title`

##### <a name="-cassandra--schema--index--keys"></a>`keys`

Data type: `string`

The columns that the index is being created on.

Default value: `undef`

##### <a name="-cassandra--schema--index--keyspace"></a>`keyspace`

Data type: `string`

The name the keyspace that the index is to be associated
with.

##### <a name="-cassandra--schema--index--options"></a>`options`

Data type: `string`

Any options to be added to the index.

Default value: `undef`

##### <a name="-cassandra--schema--index--table"></a>`table`

Data type: `string`

The name of the table that the index is to be associated with.

### <a name="cassandra--schema--keyspace"></a>`cassandra::schema::keyspace`

Create or drop keyspaces within the schema.

#### Examples

##### 

```puppet
$network_topology_strategy = {
  keyspace_class => 'NetworkTopologyStrategy',
    dc1            => 3,
    dc2            => 2
}
```

##### 

```puppet
cassandra::schema::keyspace { 'mykeyspace':
  replication_map => {
    keyspace_class     => 'SimpleStrategy',
    replication_factor => 1,
  },
  durable_writes  => false,
}
```

#### Parameters

The following parameters are available in the `cassandra::schema::keyspace` defined type:

* [`ensure`](#-cassandra--schema--keyspace--ensure)
* [`durable_writes`](#-cassandra--schema--keyspace--durable_writes)
* [`keyspace_name`](#-cassandra--schema--keyspace--keyspace_name)
* [`replication_map`](#-cassandra--schema--keyspace--replication_map)

##### <a name="-cassandra--schema--keyspace--ensure"></a>`ensure`

Data type: `present|absent`

Create or drop the keyspace.

Default value: `present`

##### <a name="-cassandra--schema--keyspace--durable_writes"></a>`durable_writes`

Data type: `boolean`

When set to false, data written to the
keyspace bypasses the commit log. Be careful using this option
because you risk losing data. Set this attribute to false on a keyspace
using the SimpleStrategy.

Default value: `true`

##### <a name="-cassandra--schema--keyspace--keyspace_name"></a>`keyspace_name`

Data type: `string`

The name of the keyspace to be created.

Default value: `$title`

##### <a name="-cassandra--schema--keyspace--replication_map"></a>`replication_map`

Data type: `hash`

Needed if the keyspace is to be present.
Optional if it is to be absent.

Default value: `{}`

### <a name="cassandra--schema--permission"></a>`cassandra::schema::permission`

Grant or revoke permissions.
To use this class, a suitable `authenticator` (e.g. PasswordAuthenticator)
and `authorizer` (e.g. CassandraAuthorizer) must be set in the Cassandra
class.

WARNING: Specifying keyspace 'ALL' and 'ALL' for permissions at the same
time is not currently supported by this module.

#### Parameters

The following parameters are available in the `cassandra::schema::permission` defined type:

* [`user_name`](#-cassandra--schema--permission--user_name)
* [`ensure`](#-cassandra--schema--permission--ensure)
* [`keyspace_name`](#-cassandra--schema--permission--keyspace_name)
* [`permission_name`](#-cassandra--schema--permission--permission_name)
* [`table_name`](#-cassandra--schema--permission--table_name)

##### <a name="-cassandra--schema--permission--user_name"></a>`user_name`

Data type: `string`

The name of the user who is to be granted or
revoked.

##### <a name="-cassandra--schema--permission--ensure"></a>`ensure`

Data type: `present | absent`

Set to present to grant a permission or
absent to revoke it.

Default value: `present`

##### <a name="-cassandra--schema--permission--keyspace_name"></a>`keyspace_name`

Data type: `string`

The name of the keyspace to grant/revoke the
permissions on.  If set to 'ALL' then the permission will be applied to
all of the keyspaces.

Default value: `'ALL'`

##### <a name="-cassandra--schema--permission--permission_name"></a>`permission_name`

Data type: `string`

Can be one of the following:

* 'ALTER' - ALTER KEYSPACE, ALTER TABLE, CREATE INDEX, DROP INDEX.
* 'AUTHORIZE' - GRANT, REVOKE.
* 'CREATE' - CREATE KEYSPACE, CREATE TABLE.
* 'DROP' - DROP KEYSPACE, DROP TABLE.
* 'MODIFY' - INSERT, DELETE, UPDATE, TRUNCATE.
* 'SELECT' - SELECT.

If the permission_name is set to 'ALL', this will set all of the specific
permissions listed.

Default value: `'ALL'`

##### <a name="-cassandra--schema--permission--table_name"></a>`table_name`

Data type: `string`

The name of a table within the specified
keyspace.  If left unspecified, the procedure will be applied to all
tables within the keyspace.

Default value: `undef`

### <a name="cassandra--schema--table"></a>`cassandra::schema::table`

Create or drop tables within the schema.

#### Examples

##### 

```puppet
cassandra::schema::table { 'users':
  keyspace => 'mykeyspace',
  columns  => {
    'userid'      => 'int',
    'fname'       => 'text',
    'lname'       => 'text',
    'PRIMARY KEY' => '(userid)',
  },
}
```

#### Parameters

The following parameters are available in the `cassandra::schema::table` defined type:

* [`keyspace`](#-cassandra--schema--table--keyspace)
* [`columns`](#-cassandra--schema--table--columns)
* [`ensure`](#-cassandra--schema--table--ensure)
* [`options`](#-cassandra--schema--table--options)
* [`table`](#-cassandra--schema--table--table)

##### <a name="-cassandra--schema--table--keyspace"></a>`keyspace`

Data type: `string`

The name of the keyspace.

##### <a name="-cassandra--schema--table--columns"></a>`columns`

Data type: `hash`

A hash of the columns to be placed in the table.
Optional if the table is to be absent.

Default value: `{}`

##### <a name="-cassandra--schema--table--ensure"></a>`ensure`

Data type: `present|absent`

Ensure a keyspace is created or dropped.

Default value: `present`

##### <a name="-cassandra--schema--table--options"></a>`options`

Data type: `array`

Options to be added to the table creation.

Default value: `[]`

##### <a name="-cassandra--schema--table--table"></a>`table`

Data type: `string`

The name of the table.  Defaults to the name of the
resource.

Default value: `$title`

### <a name="cassandra--schema--user"></a>`cassandra::schema::user`

Create or drop users.
To use this class, a suitable `authenticator` (e.g. PasswordAuthenticator)
must be set in the Cassandra class.

#### Examples

##### 

```puppet
cassandra::schema::user { 'akers':
  password  => 'Niner2',
  superuser => true,
}

cassandra::schema::user { 'lucan':
  ensure => absent,
}
```

#### Parameters

The following parameters are available in the `cassandra::schema::user` defined type:

* [`ensure`](#-cassandra--schema--user--ensure)
* [`password`](#-cassandra--schema--user--password)
* [`superuser`](#-cassandra--schema--user--superuser)
* [`login`](#-cassandra--schema--user--login)
* [`user_name`](#-cassandra--schema--user--user_name)

##### <a name="-cassandra--schema--user--ensure"></a>`ensure`

Data type: `present | absent`

Valid values can be **present** to
ensure a user is created, or **absent** to remove the user if it exists.

Default value: `present`

##### <a name="-cassandra--schema--user--password"></a>`password`

Data type: `string`

A password for the user.

Default value: `undef`

##### <a name="-cassandra--schema--user--superuser"></a>`superuser`

Data type: `boolean`

If the user is to be a super-user on the system.

Default value: `false`

##### <a name="-cassandra--schema--user--login"></a>`login`

Data type: `boolean`

Allows the role to log in.

Default value: `true`

##### <a name="-cassandra--schema--user--user_name"></a>`user_name`

Data type: `string`

The name of the user.

Default value: `$title`

